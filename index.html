import json

# Chargement du JSON depuis un fichier
with open('pb_data.json', 'r', encoding='utf-8') as f:
    data = json.load(f)

# Regroupement par game (titre 1)
grouped = {}
for cmd, info in data.items():
    game = info['game']
    category = info['category']
    if game not in grouped:
        grouped[game] = []
    grouped[game].append((category, cmd))

# Tri des catégories pour chaque jeu
for game in grouped:
    grouped[game].sort(key=lambda x: x[0])

# Génération HTML simple
html = "<html><head><meta charset='utf-8'><title>Speedrun Categories</title></head><body>\n"
for game, categories in sorted(grouped.items()):
    html += f"<h1>{game}</h1>\n<ul>\n"
    for category, cmd in categories:
        html += f"<li><strong>{category}</strong>: <code>{cmd}</code></li>\n"
    html += "</ul>\n"
html += "</body></html>"

# Sauvegarde
with open('speedrun_categories.html', 'w', encoding='utf-8') as f:
    f.write(html)
